<script type="text/template" id="plugin">

<style>

	.mar-plugin {
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
		user-select:none;
		line-height: 16px;
		font-size: 14px;
	}

	/* Checkboxes */

	.mar-plugin input[type=radio]{
	  position: absolute;
	  visibility: hidden;
	}

	.mar-plugin .check-group {
		position: relative;
		display: block;
	    width: 55px;
	    height: 20px;
	    text-align: left;
	}

	.slider-select .check-group label span {
		margin-left: -15px;
    	cursor: pointer;
    	font-size: 12px;
    	width: 40px;
    	display: inline-block;
    	text-align: center;
	}

	.slider-select .check-group:first-child label span {
		margin-left: -24px;
	}
	
	.mar-plugin .storm-buttons-container .expected-benefit .check-group-storm label,
	.mar-plugin .storm-buttons-container .expected-benefit .check-group-annual label {
	  position: relative;
	  display: block;
	  padding-top: 1px;
	  padding-left: 30px;
	  color: #333333;
	  cursor: pointer;
	  -webkit-transition: all 0.25s linear;
	  transition: all 0.25s linear;
	}

	.mar-plugin .storm-buttons-container .radio-padding {
		margin-top: 10px;
	}

	.mar-plugin .storm-buttons-container .check-group-annual,
	.mar-plugin .storm-buttons-container .check-group-storm {
		position: relative;
		display: block;
		margin-bottom: 6px;
	    width: 100%;
	    height: 20px;
	    text-align: left;
	}

	.mar-plugin .storm-buttons-container .check-group-annual label,
	.mar-plugin .storm-buttons-container .check-group-storm label {
		padding-left: 31px;
    	padding-top: 1px;
	}

	.mar-plugin .check-group:hover label {
		color: #306692;
	}

	.mar-plugin .radio-select{
	  position: absolute;
	  display: block;
	  top: 1px;
	  left: 14px;
	  border: 2px solid #306692;
	  border-radius: 100%;
	  height: 14px;
	  width: 14px;
	  background-color: #fff;
	  z-index: 5;
	  transition: border .25s linear;
	  -webkit-transition: border .25s linear;
	}

	.mar-plugin .storm-buttons-container .annual .radio-select {
		top: -2px;
	}

	.mar-plugin .radio-select::before {
	  display: block;
	  position: absolute;
	  top: -1px;
	  left: -1px;
	  content: '';
	  border-radius: 100%;
	  height: 12px;
	  width: 12px;
	  margin: auto;
	  transition: background 0.25s linear;
	  -webkit-transition: background 0.25s linear;
	}

	.mar-plugin input[type=radio]:checked ~ .radio-select::before{
	  background:#306692;
	}

	.mar-plugin input[type=radio]:checked ~ .check {
	  border: 1px solid #306692;
	}

	.mar-plugin input[type=radio]:checked ~ label{
	  color: #306692;
	}

	.mar-plugin .slider-select {
		position: relative;
		display: block;
		clear: both;
		height: 45px;
		padding-left: 33px;
		opacity: 1;
		margin-bottom: 17px;
		transition: opacity 0.5s linear;
	}

	.mar-plugin .slider-select.disabled {
		opacity: 0.18;
		pointer-events: none;
	}

	.mar-plugin .slider-select:before {
		content: "";
	    border-bottom: 4px solid #306692;
	    width: 261px;
	    height: 0px;
	    position: absolute;
	    margin-top: 6px;
	}


	.mar-plugin .catastrophic-select .check-group {
		display: inline-block;
		float: left;
		text-align: center;
	}

	/* End Checkboxes */


	.mar-plugin .title {
		margin-top: 0;
   		padding-top: 20px;
	    text-align: center;
	}

	.mar-plugin .main-message {
		margin: 4px;
	}

	.mar-plugin .top-group {
		padding-bottom: 10px;
		background-color: #f4f2f4;
	}

	.mar-plugin .controls-container {
		width: 100%;
	}

	.mar-plugin .storm-buttons-container {
		float: left;
		width: 100%;
	}

	.mar-plugin .region-select-containers {
		position: relative;
		display: block;
		height: 63px;
		border-top: 2px solid #e3e5e3;
		border-bottom: 2px solid #e3e5e3;
	}

	.mar-plugin .region-select-container {
		width: 50%;
	    display: inline-block;
	    float: left;
	    padding: 5px 10px;
	}

	.mar-plugin .region-select-container .control-title {
		display: block;
	    font-size: 12px;
	    margin-bottom: 2px;
	}

	.mar-plugin .draw-custom-container {
		width: 50%;
	    display: inline-block;
	    float: left;
	    padding: 5px 10px;
	    font-size: 12px;
	}

	.mar-plugin .draw-button {
	    width: 24px;
	    height: 30px;
	    margin-top: 4px;
	    background: url("plugins/natural_coastal_protection/pointer.svg") center no-repeat;
	    border: 1px solid gray;
	    cursor: pointer;
	}

	.mar-plugin .draw-button.active {
		background: url("plugins/natural_coastal_protection/pointer-blue.svg") center no-repeat;
	}

	.mar-plugin .info-tooltip {
		color: #226491;
		vertical-align: middle;
		z-index: 101;
		float: right;
    	margin-right: 7px;
	}

	.mar-plugin .stat .info-tooltip {
		padding-left: 3px;
	}

	.mar-plugin .styled-select {
		position: absolute;
	    width: 150px;
	    height: 36px;
	    overflow: hidden;
	    background-color: #fff;
	    cursor: pointer;
	    top: 5px;
	    font-weight: bold;
	    left: 92px;
	}

	.mar-plugin .styled-select.disabled {
		pointer-events: none;
	    opacity: 0.2;
	}

	.mar-plugin .styled-select:active,
	.mar-plugin .styled-select:focus {
		outline: none;
	}

	.mar-plugin .styled-select::after {
		display: block;
		position: absolute;
		right: 5px;
    	top: 8px;
		content: '\f078';
		color: #999;
		font-family: FontAwesome;
		pointer-events: none;
	}

	.mar-plugin .styled-select select {
		    background: transparent;
		    width: 149px;
		    padding: 5px;
		    line-height: 1;
		    -moz-appearance: none;
		    -webkit-appearance: none;
		    appearance: none;
		    border: 1px solid #3f9bd9;
		    cursor: pointer;
	}

	.mar-plugin .styled-select select optgroup,
	.mar-plugin .styled-select select option {

	}

	.mar-plugin .download-summary {
		background: #fff;
	    color: #3f9bd9;
	    border: 2px solid #3f9bd9;
	    box-shadow: none;
	    float: right;
	    cursor: pointer;
	    border-radius: 4px;
	    padding: 4px 8px;
	    margin-right: 10px;
	    text-align: center;
	    box-shadow: 2px 2px 5px 1px rgba(34,100,145, 0.2);
	    transition: box-shadow 0.2s;
    }

    .mar-plugin .download-summary::after {
    	content: "";
	    clear : both;
	}

    .mar-plugin .download-summary:active {
		-webkit-transform: scale(0.96) translateY(2px);
		-moz-transform: scale(0.96) translateY(2px);
		-ms-transform: scale(0.96) translateY(2px);
		-o-transform: scale(0.96) translateY(2px);
		transform: scale(0.96) translateY(2px);
    }

	.mar-plugin .a:visited {
		color: #fff !important;
		outline: none;
	}

	.mar-plugin .download-summary:hover {
		-webkit-transition: all 0.05s ease;
		-moz-transition: all 0.05s ease;
		-ms-transition: all 0.05s ease;
		-o-transition: all 0.05s ease;
		transition: all 0.05s ease;
	}
    .mar-plugin .stats-description {
    	padding: 8px;
    }

	.mar-plugin .stats-container {
		width: 100%;
	}

	.mar-plugin .stat {
		position: relative;
		height: 50px;
		line-height: 50px;
		border-bottom: 1px dotted #aeaeae;
	}

	.mar-plugin .stat.active .description,
	.mar-plugin .stat.active .number {
		color: #226491;
	}

	.mar-plugin .stat .number {
		position: absolute;
    	left: 10px;
		cursor: pointer;
		font-size: 35px;
	    font-weight: bold;
	    color: #d8d8d8;
	    transition: color 0.35s linear;
	}

	.mar-plugin .stat .units {
		font-size: 25px;
	}

	.mar-plugin .stat.capital .description {
		line-height: normal;
	}

	.mar-plugin .stat:hover .description,
	.mar-plugin .stat:hover .number {
		color: #226491;
	}

	.mar-plugin .stat .description {
		margin-top: 8px;
		position: absolute;
		width: calc(100% - 152px);
    	left: 152px;
		cursor: pointer;
		color: #d8d8d8;
		font-size: 13px;
	    line-height: normal;
	    transition: color 0.35s linear;
	}

	.mar-plugin .stat:first-child .description {
		margin-top: 17px;
	}

	.mar-plugin .stat .sub-description {
		font-size: 12px;
	}

	.mar-plugin .coral-select-container {
		float: left;
	    width: 100%;
	    padding-left: 12px;
	    text-align: left;
	    clear: left;
	    margin-bottom: 5px;
	}

	.mar-plugin .coral-select-container input[type=checkbox] {
	  /* Double-sized Checkboxes */
	    margin-top: 1px;
		-ms-transform: scale(1.2);
		-moz-transform: scale(1.2);
		-webkit-transform: scale(1.2);
		-o-transform: scale(14);
		padding: 10px;
	}

	.mar-plugin .coral-select-container span {
		margin-left: 8px;
		font-weight: 600;
	}

	/* Chart SVG Styles */

	.mar-plugin .chartContainer {
		background: #f3f4f3;
		text-align: center;
	}

	.mar-plugin path {
		stroke: #333;
		stroke-width: 2px;
		fill: none;
	}

	.mar-plugin .tick line {
		stroke: #333;
	}

	.mar-plugin .tick.current {
		font-weight: bold;
	}

	.mar-plugin .points-current circle {
		fill: #333;
	}

	.mar-plugin path.scenario {
		stroke: #333;
	}

	.mar-plugin .points-scenario circle {
		fill: #333;
	}

	.mar-plugin .area-current {
	    fill: #30928D;
	    stroke-width: 0;
	}

	.mar-plugin .area-scenario {
	    fill: #923034;
	    stroke-width: 0;
	}

	.mar-plugin .area.scenario {
	    fill: #923034;
	    stroke-width: 0;
	}

	.mar-plugin .xaxis path,
	.mar-plugin .yaxis path {
		fill: none;
		stroke: #ccc;
		stroke-width: 1px;
		shape-rendering: crispEdges;
	}

	.mar-plugin .yaxis-label {
		line-height: 16px;
	}

	.esriLegendService img {
		border: none;
	}

	.mar-plugin .bar {
		fill: #923034;
	}

	.mar-plugin .bar.Present {
		fill: #30928D;
	}

	.mar-plugin .world-bank-report {
		text-align: right;
		margin-top: -6px;
		margin-right: 8px;
	}

	.custom-legend .legend-item {
		width: 15px;
	    height: 10px;
	    display: inline-block;
	    margin-right: 5px;
	}

</style>

	<div class="mar-plugin">
		<div class="top-group clearfix">
		    <h3 class="title i18n" data-i18n="Flood Protection Provided by Coral Reefs">Flood Protection Provided by Coral Reefs</h3>
		    <div class="main-message i18n" data-i18n="Estimates of the benefits provided by reefs in flood protection annually and from catastrophic storms">
		    	Estimates of the benefits provided by reefs in flood protection annually and from catastrophic storms
		    </div>
		    <a class="download-summary js-getSnapshot" target="_blank"><span class="i18n" data-i18n="Download Regional Summary">Download Regional Summary</span> <i class="fa fa-file-pdf-o" aria-hidden="true"></i></a>
		</div>
	    <div class="controls-container clearfix">

	    	<div class="region-select-containers">
		    	<div class="region-select-container">
		    		<span class="control-title i18n" data-i18n="Choose a Region">Choose a Region</span>
		    		<div class="chosen-wrap" style="display: inline-block;">
						<select id="ncpmx-select-region" class="chosen">
							<option value="Quintana Roo" selected>Quintana Roo</option>
							<% _.each(regions, function(val, key) { %>
			    				<option value="<%= val %>"><%= val %></option>
			    			<% }); %>
			    			<option value="custom" style="display: none;" class="i18n" data-i18n="Custom Region">Custom Region</option>
						</select>
					</div>
		    	</div>
		    	<div class="draw-custom-container">
		    		<span class="i18n" data-i18n="Draw a region">Draw a region</span>
		    		<div class="draw-button"></div>
		    	</div>
		    </div>

	    	<div class="storm-buttons-container">
		    	<div class="expected-benefit">
		    		<div class="radio-control radio-padding catastrophic-select">
						<div class="check-group-annual">
							<label>
								<input  type="radio" name="storm<%=pane%>" value="ANN" checked="checked" />
								<div class="radio-select"></div>
								<span class="i18n" data-i18n="Annual Expected Benefit">Annual Expected Benefit</span>
								<i data-i18n="[title]Annual expected benefits from reefs for flood protection  represents the predicted flooding avoided to land, people, and infrastructure by keeping coral reefs intact. It is an annualized benefit of the role of reefs in flood reduction that considers local factors such as reef condition, asset distribution, and storm frequency." title="Annual expected benefits from reefs for flood protection  represents the predicted flooding avoided to land, people, and infrastructure by keeping coral reefs intact. It is an annualized benefit of the role of reefs in flood reduction that considers local factors such as reef condition, asset distribution, and storm frequency." class="fa fa-info-circle info-annual info-tooltip i18n"></i>
							</label>
			    		</div>
						<div class="slider-select select-ann">
							<div class="check-group">
								<label>
									<input  type="radio" name="climate-scenario<%=pane%>" value="" checked="checked" />
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="Present">Present</span>
								</label>
				    		</div>
				    		<div class="check-group">
								<label>
									<input type="radio" name="climate-scenario<%=pane%>" value="L2030">
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="Low 2030">Low 2030</span>
								</label>
				    		</div>
				    		<div class="check-group">
								<label>
									<input type="radio" name="climate-scenario<%=pane%>" value="H2030">
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="High 2030">High 2030</span>
								</label>
				    		</div>
				    		<div class="check-group">
								<label>
									<input type="radio" name="climate-scenario<%=pane%>" value="L2050">
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="Low 2050">Low 2050</span>
								</label>
				    		</div>
				    		<div class="check-group">
								<label>
									<input type="radio" name="climate-scenario<%=pane%>" value="H2050">
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="High 2050">High 2050</span>
								</label>
				    		</div>
						</div>
			    	</div>
		    	</div>

		    	<div class="expected-benefit">
		    		<div class="radio-control radio-padding catastrophic-select">
						<div class="check-group-storm">
								<label>
									<input  type="radio" name="storm<%=pane%>" value="100RP" checked="checked" />
									<div class="radio-select"></div>
									<span class="i18n" data-i18n="Benefits from 1 in 100 year storm">Benefits from 1 in 100 year storm</span>
									<i data-i18n="[title]Historical data and simulation on tropical storms were used to develop a frequency distribution of storm sea levels and their intensity to estimate flooding for 1 in 10, 25, 50, and 100 year storm events." title="Historical data and simulation on tropical storms were used to develop a frequency distribution of storm sea levels and their intensity to estimate flooding for 1 in 10, 25, 50, and 100 year storm events." class="fa fa-info-circle info-annual info-tooltip i18n"></i>
								</label>
				    		</div>
						<div class="slider-select disabled select-100">
							<div class="check-group">
								<label>
									<input  type="radio" name="climate-scenario<%=pane%>" value="" />
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="Present">Present</span>
								</label>
				    		</div>
				    		<div class="check-group">
								<label>
									<input type="radio" name="climate-scenario<%=pane%>" value="L2030">
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="Low 2030">Low 2030</span>
								</label>
				    		</div>
				    		<div class="check-group">
								<label>
									<input type="radio" name="climate-scenario<%=pane%>" value="H2030">
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="High 2030">High 2030</span>
								</label>
				    		</div>
				    		<div class="check-group">
								<label>
									<input type="radio" name="climate-scenario<%=pane%>" value="L2050">
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="Low 2050">Low 2050</span>
								</label>
				    		</div>
				    		<div class="check-group">
								<label>
									<input type="radio" name="climate-scenario<%=pane%>" value="H2050">
									<div class="radio-select"></div>
									<br><span class="i18n" data-i18n="High 2050">High 2050</span>
								</label>
				    		</div>
						</div>
			    	</div>
		    	</div>
	    	</div>

	    	<div class="coral-select-container">

	    		<label class="form-component">
					<input type="checkbox">
					<div class="check"></div>
					<span class="form-text i18n" data-i18n="View Coral Reef Habitats">View Coral Reef Habitats</span> 
				</label>
		    </div>

	    </div>
	    <div class="stats-description i18n" data-i18n="The people and property protected by coral reefs (values represent predicted losses avoided by keeping reefs intact)">The people and property protected by coral reefs (values represent predicted losses avoided by keeping reefs intact)</div>
	    <div class="stats-container">

	    	<div class="stat people active" data-layer="people">
	    		<div class="number"><span class="variable"><%= this.getRegionSum("E2E1_DIF_ANN_PF") %></span></div>
	    		<div class="description"><span class="i18n" data-i18n="People Protected">People Protected</span>
	    			<i data-i18n="[title]This value represents the difference of flooding impacts on people when coral reefs are present and when the reef is loss (loss of geometry and friction). This value is aggregated to the region from 90m resolution data." title="This value represents the difference of flooding impacts on people when coral reefs are present and when the reef is loss (loss of geometry and friction). This value is aggregated to the region from 90m resolution data." class="fa fa-info-circle info-people info-tooltip i18n"></i>
	    		</div>
	    	</div>

	    	<div class="stat capital" data-layer="capital">
	    		<div class="number">$<span class="variable"><%= this.getRegionSum("E2E1_DIF_ANN_BCF") %></span><span class="units">M</span></div>
	    		<div class="description">
	    			<span class="i18n" data-i18n="Built Capital Protected">Built Capital Protected</span><br>
	    			<span class="sub-description i18n" data-i18n="(residential, industrial, and services)">(residential, industrial, and services)</span>
	    			<i data-i18n="[title]This value represents the difference of flooding impacts on built capital when coral reefs are present and when the reef is loss (loss of geometry and friction). This value is aggregated to the region from 90m resolution data." title="This value represents the difference of flooding impacts on built capital when coral reefs are present and when the reef is loss (loss of geometry and friction). This value is aggregated to the region from 90m resolution data." class="fa fa-info-circle info-capital info-tooltip i18n"></i>
	    		</div>
	    		
	    	</div>

	    	<div class="stat area" data-layer="area">
	    		<div class="number">$<span class="variable"><%= this.getRegionSum("E2E1_DIF_ANN_HOTEL") %></span><span class="units">M</span></div>
	    		<div class="description">
	    			<span class="i18n" data-i18n="Hotels Protected">Hotels Protected</span><i data-i18n="[title]This value represents the difference of flooding impacts on land area when coral reefs are present and when there is 1 meter of reef loss. This value is aggregated to the country scale from 90m resolution data." title="This value represents the difference of flooding impacts on land area when coral reefs are present and when there is 1 meter of reef loss. This value is aggregated to the country scale from 90m resolution data." class="fa fa-info-circle info-area info-tooltip i18n" style="display: inline;"></i></div>

	    	</div>

	    </div>

	    <div class="chartContainer">

	    </div>

	</div>

</script>